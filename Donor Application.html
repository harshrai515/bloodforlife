<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doner Application Form</title>
    <link rel="stylesheet" href="Styles.css">
    <link rel="shortcut icon" href="blood-transfusion.png" type="image/png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
        }

        .container {
            margin-top: 30px;
        }

        form {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            font-weight: bold;
        }

        button {
            width: 100%;
            margin-top: 15px;
        }

        .date-time {
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .date-time span {
            font-size: 1.2em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px;
            margin: auto;
            border: 4px black solid;
            border-radius: 10px;
            margin-left: 0%;
            display: table;
        }

        thead th {
            background-color: #007BFF;
            color: white;
            padding: 10px;
            text-align: left;
            border: 2px solid #ff0000;
        }

        /* Table data cells */
        tbody td {
            padding: 10px;
            border: 2px solid #000000;
            text-align: left;
        }

        /* Zebra striping for table rows */
        tbody tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        td:before {
            position: absolute;
            top: 6px;
            left: 6px;
            width: 45%;
            padding-right: 10px;
            white-space: nowrap;
        }


        th {
            border: 1px solid rgb(121, 203, 245);
            padding: 10px;
            background-color: #8c96b9;
        }

        td {
            border: 1px solid rgb(0, 0, 0);
            padding: 10px;
        }

        @media print {
            body * {
                visibility: hidden;
            }

            .container h2{
                visibility: hidden;
            }



            .container,
            .container * {
                visibility: visible;
            }

            .container  #mesw , #mesx ,#submitBtn{
                visibility: hidden;
            }

            .container {
                position: absolute;
                left: 0;
                top: 0;
            }
        }
    </style>
</head>

<body style="background-color: rgb(217, 242, 233);">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <a class="navbar-brand" href="#"><img src="blood-bank (1).png" style="height: 25px; margin-top: -10px;">
            &nbsp;Blood For Life </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="Donor Application.html">Donor</a></li>
                <li class="nav-item"><a class="nav-link" href="BloodAvailability.html">Blood Availability</a></li>
                <li class="nav-item"><a class="nav-link" href="Receiver Application.html">Receiver</a></li>
                <li class="nav-item"><a class="nav-link" href="About.html">About</a></li>
                <li class="nav-item"><a class="nav-link" href="Botboy.html">Chat Bot</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h2 style="margin-top: 30px;">You Can/Can't Donate Blood</h2>
        <table>
            <thead>
                <tr>
                    <th>CAN</th>
                    <th>CAN'T</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1. If You are Fit and Healthy</td>
                    <td>1. If you have a cold, Sore throat or Flu</td>
                </tr>
                <tr>
                    <td>2. Age 18-70</td>
                    <td>2. If you have Chronic Infectious Disease</td>
                </tr>
                <tr>
                    <td>3. Weight more than 45kgs</td>
                    <td>3. You are taking Antibiotics</td>
                </tr>
                <tr>
                    <td>4. If You've had no Operation in six months</td>
                    <td>4. If You had recent Surgery</td>
                </tr>
                <tr>
                    <td>5. Even if you have Cholesterol</td>
                    <td>5. You are Pregnant Or Breastfeeding</td>
                </tr>
                <tr>
                    <td>6. Even if you take blood pressure medication and your pressure is stable</td>
                    <td>6. You've Had an Extended Stay in Certain Countries</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Blood Donor Form -->
    <div class="container">
        <center>
            <h3 style="font-size: 37px;">Blood Donor Form</h3>
        </center>
        <form id="myform" style="background-color: rgb(185, 185, 200);" name="google-sheet"
            onsubmit="return handleSubmit(event)">
            <div class="date-time">
                <span id="Sdate">Current Date and Time</span>
            </div>

            <div class="form-group">
                <label for="name">Full Name:</label>
                <input type="text" class="form-control" id="name" placeholder="Enter name" name="Name" required>
            </div>

            <div class="form-group" style="display: flex; align-items: center;">
                <!-- Left Side: Date of Birth -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="dob">Date of Birth:</label>
                    <input type="date" class="form-control" id="dob" name="DoB" min="1990-01-01" required>
                </div>

                <!-- Middle Side: Gender -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="gender">Gender:</label>
                    <select class="form-control" id="gender" name="Gender" required>
                        <option value="" disabled selected>Select your Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <!-- Right Side: Blood Group -->
                <div style="flex: 1;">
                    <label for="blood_group">Blood Group:</label>
                    <select class="form-control" id="blood_group" name="Blood_Group" required>
                        <option value="" disabled selected>Select your Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                    </select>
                </div>
            </div>
            <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                <!-- Address Section -->
                <div style="flex: 1; margin-top: 20px;">
                    <label for="street" id="sm">Street Address</label>
                    <input type="text" name="street" placeholder="Enter street address" class="form-control" required>
                </div>
            
                <div style="flex: 1; margin-top: 20px;">
                    <label for="city">City</label>
                    <input type="text" name="city" placeholder="Enter city" class="form-control" required>
                </div>
            
                <div style="flex: 1; margin-top: 20px;">
                    <label for="state">State</label>
                    <input type="text" name="state" placeholder="Enter state" class="form-control" required>
                </div>
            
                
            
                <div style="flex: 1; margin-top: 20px;">
                    <label for="country">Country</label>
                    <input type="text" name="country" placeholder="Enter country" class="form-control" >
                </div>
            </div>
            <div class="form-group"
                style="display: flex; justify-content: space-between; align-items: center; gap: 20px;">
                <div style="flex: 1;">
                    <label for="weight">Weight</label>
                    <input type="number" name="weight" placeholder="Kg" class="form-control">
                </div>

                <div style="flex: 1;">
                    <label for="pulse">Pulse</label>
                    <input type="number" name="pulse" placeholder="BPM" class="form-control">
                </div>

                <div style="flex: 1;">
                    <label for="hb">Hb</label>
                    <input type="number" name="hb" placeholder="g/dl" class="form-control">
                </div>

                <div style="flex: 1;">
                    <label for="bp">BP</label>
                    <input type="number" name="bp" placeholder="mmHg" class="form-control">
                </div>
            </div>

            <div class="form-group" style="display: flex; align-items: center;">
                <!-- Left Side: Phone Number -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="Contact">Phone Number:</label>
                    <input type="number" class="form-control" id="Contact" placeholder="Enter contact" name="Contact"
                        pattern="\d{10}" required
                        oninput="this.setCustomValidity(this.value.length === 10 ? '' : 'Enter a valid mobile number')"
                        maxlength="10">
                </div>

                <!-- Right Side: Email Address -->
                <div style="flex: 1;">
                    <label for="email">Email Address:</label>
                    <input type="email" class="form-control" id="email" placeholder="Enter email" name="Email"
                        minlength="14" maxlength="50" required
                        oninvalid="this.setCustomValidity('Please enter a valid email')"
                        oninput="setCustomValidity('')">
                </div>
            </div>

            <div class="form-group" style="display: flex; align-items: center;">
                <!-- Left Side: Emergency Contact -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="emergencyContact">Emergency Contact (Name and Phone):</label>
                    <input type="text" class="form-control" id="emergencyContact" name="Emergency_Contact"
                        placeholder="Enter name - phone number (e.g., John Doe - 1234567890) optional"
                        pattern="^[a-zA-Z\s]+ - [0-9]{10}$"
                        title="Enter the name followed by a dash and 10-digit phone number (e.g., John Doe - 1234567890)">
                </div>

                <!-- Right Side: Last Time Donated -->
                <div style="flex: 1;">
                    <label for="lastDonation">Last Time Donated (optional):</label>
                    <input type="date" class="form-control" id="lastDonation" name="lastDonation">
                </div>
            </div>

            <!-- Disease Section -->
            <div class="form-group">
                <label>Are you suffering from any disease or have suffered from any?</label>
                <div class="dis-group">
                    <label><input type="radio" id="yes" name="disease" value="yes" required
                            onclick="toggleDiseaseField()">Yes</label>
                    <label><input type="radio" id="no" name="disease" value="no"
                            onclick="toggleDiseaseField()">No</label>
                </div>

                <div id="diseaseField" style="display:none; margin-top: 10px;">
                    <label for="diseaseName">Please mention the disease:</label>
                    <input type="text" class="form-control" id="diseaseName" name="diseaseName"
                        placeholder="Enter disease name">
                </div>
            </div>
            <div class="mes">
                <div class="form-group" style="margin-top: 20px;">
                    <p style="font-weight: bold; color: red; text-align: center;">
                        Please bring your ID proof to the donation center.
                    </p>
                </div>
                <div>
                    <!-- Reset Button -->
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <button id="mesw" style="background-color: #6266e0; color: white; margin-right: 8px" type="reset"
                            class="btn btn-primary">Reset</button>
                        <button id="mesx"  style="background-color: #28a745; color: white;" onclick="printForm()"
                            class="btn btn-print">Print Form</button>
                    </div>


                    <!-- Submit Button (becomes red after submission) -->
                    <div>
                        <!-- Submit Button (becomes red after submission) -->
                        <button id="submitBtn" type="submit" class="btn btn-primary" onclick="startDelay()" style="font-size: 29px;">
                            Submit
                        </button>
                    </div>

            </div>
        </div>
                <script>
                    function pagePrint(myform) {
                        var printdata = document.getElementBYId("myform");
                        newwin = window.open("");
                        newwin.document.write(printdata.outerHTML);
                        newwin.print();
                        newwin.close();
                    }
                </script>
            </div>


            <script>
                function changeButtonColor() {
                    const submitBtn = document.getElementById("submitBtn");
                    submitBtn.style.backgroundColor = "red";
                    submitBtn.innerText = "Submitted";
                    // Optional: change button text
                }
                function startDelay() {
            setTimeout(changeButtonColor, 3000); 
        }
            </script>

        </form>

        <script>
            function printForm() {
                window.print();
            }
        </script>






    </div>

    <div id="footer"></div>

    <script>
        fetch('ft.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>

    <script>
        function toggleDiseaseField() {
            const diseaseField = document.getElementById("diseaseField");
            const yesOption = document.getElementById("yes").checked;

            if (yesOption) {
                diseaseField.style.display = "block";
            } else {
                diseaseField.style.display = "none";
                document.getElementById("diseaseName").value = ''; // Clear input if "No" is selected
            }
        }

        function updateDateTime() {
            const now = new Date();
            document.getElementById('Sdate').innerText = now.toLocaleString();
        }

        function handleSubmit(event) {
            event.preventDefault();
            updateDateTime();
            const scriptURL = 'https://script.google.com/macros/s/AKfycbylgq1W6oqr1ZTG611dBLrubMIFkokExuswgq-k3uT6SHsjc3qCUsObk4SKgbdlEUVV/exec'; // Updated URL
            const form = document.forms['google-sheet'];

            // Include the current date and time in the form data
            const formData = new FormData(form);
            formData.append('Sdate', document.getElementById('Sdate').innerText);

            fetch(scriptURL, { method: 'POST', body: formData })
                .then(response => {
                    alert("Thanks for contacting us! We will contact you soon...");
                })
                .catch(error => console.error('Error!', error.message));
        }

        // Update the date and time every second
        setInterval(updateDateTime, 1000);

        // Initialize the date and time when the page loads
        window.onload = updateDateTime;
    </script>

</body>

</html>
