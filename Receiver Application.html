<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receiver Application From</title>
    <link rel="HTML" href="Donor Application.html">
    <link rel="HTML" href="Receiver Application.html">
    <link rel="HTML" href="BloodAvailability.html">
    <link rel="HTML" href="LifeSavers.html">
    <link rel="HTML" href="About.html">
    <link rel="HTML" href="index.html">
    <link rel="HTML" href="Botboy.html">
    <link rel="stylesheet" href="Styles.css">
    <link rel="shortcut icon" href="blood-transfusion.png" type="image/png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        /* Table headers */

        .date-time {
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;

        }

        .date-time span {
            font-size: 1.2em;
        }

        .container {
            margin-top: 30px;
        }

        form {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            font-weight: bold;
        }

        button {
            width: 100%;
            margin-top: 15px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px;
            margin: auto;
            border: 4px black solid;
            border-radius: 10px;
            margin-left: 0%;
            display: table;
        }

        thead th {
            background-color: #007BFF;
            color: white;
            padding: 10px;
            text-align: left;
            border: 2px solid #ff0000;
        }

        /* Table data cells */
        tbody td {
            padding: 10px;
            border: 2px solid #000000;
            text-align: left;
        }

        /* Zebra striping for table rows */
        tbody tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        td:before {
            position: absolute;
            top: 6px;
            left: 6px;
            width: 45%;
            padding-right: 10px;
            white-space: nowrap;
        }


        th {
            border: 1px solid rgb(121, 203, 245);
            padding: 10px;
            background-color: #8c96b9;
        }

        td {
            border: 1px solid rgb(0, 0, 0);
            padding: 10px;
        }

        @media print {
            body * {
                visibility: hidden;
            }

            .container h2 {
                visibility: hidden;
            }



            .container,
            .container * {
                visibility: visible;
            }

            .container #mesw,
            #mesx,
            #submitBtn {
                visibility: hidden;
            }

            .container {
                position: absolute;
                left: 0;
                top: 0;
            }
        }
    </style>
    <script>
        function validateForm() {
            var name = document.forms["donorForm"]["name"].value;
            var email = document.forms["donorForm"]["email"].value;
            var contact = document.forms["donorForm"]["contact"].value;
            var dob = document.forms["donorForm"]["dob"].value;
            var gender = document.forms["donorForm"]["gender"].value;
            var blood_group = document.forms["donorForm"]["blood_group"].value;

            if (name == "" || email == "" || contact == "" || dob == "" || gender == "" || blood_group == "") {
                alert("All fields must be filled out");
                return false;
            }
            return function submit() {
                alert("Your Application Has Been Submitted");

            }
        }
    </script>
</head>

<body style="background-color: rgb(217, 242, 233);">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <a class="navbar-brand" href="#"><img src="blood-bank (1).png" style="height: 25px; margin-top: -10px;">
            &nbsp;Blood For Life </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Donor Application.html">Donor</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="BloodAvailability.html">Blood Availability</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Receiver Application.html">Reciever</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="About.html">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Botboy.html">Chat Bot</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Table -->
    <div class="container">
        <center>
            <h2 style="margin-top: 30px;">Blood Giving and Receiving Details</h2>
        </center>

        <table>
            <thead>
                <tr>
                    <th>Blood Types</th>
                    <th>Gives</th>
                    <th>Recieves</th>
                </tr>
            </thead>
            <tbody style="background-color: #f0e3e3;">
                <tr>
                    <td>A+</td>
                    <td>A+,AB+</td>
                    <td>A+,A-,O+,O-</td>
                </tr>
                <tr>
                    <td>O+</td>
                    <td>O+,A+,B+,AB+</td>
                    <td>O+,O-</td>
                </tr>
                <tr>
                    <td>B+</td>
                    <td>B+,AB+</td>
                    <td>B+,B-,O+,O-</td>
                </tr>
                <tr>
                    <td>AB+</td>
                    <td>AB+</td>
                    <td>Everyone</td>
                </tr>
                <tr>
                    <td>A-</td>
                    <td>A+,A-,AB+,AB-</td>
                    <td>A-,O-</td>
                </tr>
                <tr>
                    <td>O-</td>
                    <td>Everyone</td>
                    <td>O-</td>
                </tr>
                <tr>
                    <td>B-</td>
                    <td>B+,B-,AB+,AB-</td>
                    <td>B-,O-</td>
                </tr>
                <tr>
                    <td>AB-</td>
                    <td>AB+,AB-</td>
                    <td>AB-,A-,B-,O-</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container">
        <center>
            <h3 style="font-size: 37px;">Blood Receiver Form</h3>
        </center>
        <form style="background-color: rgb(185, 185, 200);" name="google-sheet" onsubmit="return handleSubmit(event)">
            <div class="date-time">
                <span id="Sdate">Current Date and Time</span>
            </div>
            <div class="form-group">
                <label for="name">Full Name:</label>
                <input type="text" class="form-control" id="name" placeholder="Enter name" name="Name" required>
            </div>

            <div class="form-group" style="display: flex; align-items: center;">
                <!-- Left Side: Date of Birth -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="dob">Date of Birth:</label>
                    <input type="date" class="form-control" id="dob" name="DoB" min="1990-01-01" required>
                </div>

                <!-- Middle Side: Gender -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="gender">Gender:</label>
                    <select class="form-control" id="gender" name="Gender" required>
                        <option value="" disabled selected>Select your Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <!-- Right Side: Blood Group -->
                <div style="flex: 1;">
                    <label for="blood_group">Blood Group:</label>
                    <select class="form-control" id="blood_group" name="Blood_Group" required>
                        <option value="" disabled selected>Select your Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                    </select>
                </div>
            </div>
            <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                <!-- Address Section -->
                <div style="flex: 1; margin-top: 20px;">
                    <label for="street" id="sm">Street Address</label>
                    <input type="text" name="street" placeholder="Enter street address" class="form-control" required>
                </div>
            
                <div style="flex: 1; margin-top: 20px;">
                    <label for="city">City</label>
                    <input type="text" name="city" placeholder="Enter city" class="form-control" required>
                </div>
            
                <div style="flex: 1; margin-top: 20px;">
                    <label for="state">State</label>
                    <input type="text" name="state" placeholder="Enter state" class="form-control" required>
                </div>
            
                
            
                <div style="flex: 1; margin-top: 20px;">
                    <label for="country">Country</label>
                    <input type="text" name="country" placeholder="Enter country" class="form-control" >
                </div>
            </div>
            
            <div class="form-group"
                style="display: flex; justify-content: space-between; align-items: center; gap: 20px;">
                <div style="flex: 1;">
                    <label for="weight">Weight</label>
                    <input type="number" name="weight" placeholder="Kg" class="form-control">
                </div>

                <div style="flex: 1;">
                    <label for="pulse">Pulse</label>
                    <input type="number" name="pulse" placeholder="Enter pulse rate (BPM)" class="form-control">
                </div>
                
                <div style="flex: 1;">
                    <label for="hb">Hb</label>
                    <input type="number" name="hb" placeholder="Enter hemoglobin (g/dl)" class="form-control">
                </div>
                
                <div style="flex: 1;">
                    <label for="bp">BP</label>
                    <input type="number" name="bp" placeholder="Enter blood pressure (mmHg)" class="form-control">
                </div>
                
            </div>

            <div class="form-group" style="display: flex; align-items: center;">
                <!-- Left Side: Phone Number -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="Contact">Phone Number:</label>
                    <input type="number" class="form-control" id="Contact" placeholder="Enter contact" name="Contact"
                        pattern="\d{10}" required
                        oninput="this.setCustomValidity(this.value.length === 10 ? '' : 'Enter a valid mobile number')"
                        maxlength="10">
                </div>

                <!-- Right Side: Email Address -->
                <div style="flex: 1;">
                    <label for="email">Email Address:</label>
                    <input type="email" class="form-control" id="email" placeholder="Enter email" name="Email"
                        minlength="14" maxlength="50" required
                        oninvalid="this.setCustomValidity('Please enter a valid email')"
                        oninput="setCustomValidity('')">
                </div>
            </div>

            <div class="form-group" style="display: flex; align-items: center;">
                <!-- Left Side: Emergency Contact -->
                <div style="flex: 1; margin-right: 10px;">
                    <label for="emergencyContact">Emergency Contact (Name and Phone):</label>
                    <input type="text" class="form-control" id="emergencyContact" name="Emergency_Contact"
                        placeholder="Enter name - phone number (e.g., John Doe - 1234567890) "
                        pattern="^[a-zA-Z\s]+ - [0-9]{10}$"
                        title="Enter the name followed by a dash and 10-digit phone number (e.g., John Doe - 1234567890)">
                </div>

                <!-- Right Side: Last Time Donated -->
                <div style="flex: 1;">
                    <label for="lastDonation">Last Time Taken ?(optional):</label>
                    <input type="date" class="form-control" id="lastDonation" name="lastDonation">
                </div>
            </div>

            <!-- Disease Section -->
            <div class="form-group">
                <label>Are you suffering from any disease or have suffered from any?</label>
                <div class="dis-group">
                    <label><input type="radio" id="yes" name="disease" value="yes" required
                            onclick="toggleDiseaseField()">Yes</label>
                    <label><input type="radio" id="no" name="disease" value="no"
                            onclick="toggleDiseaseField()">No</label>
                </div>

                <div id="diseaseField" style="display:none; margin-top: 10px;">
                    <label for="diseaseName">Please mention the disease:</label>
                    <input type="text" class="form-control" id="diseaseName" name="diseaseName"
                        placeholder="Enter disease name">
                </div>
            </div>
            <div class="form-group" style="margin-top: 20px;">
                <p style="font-weight: bold; color: red; text-align: center;">
                    Please bring your ID proof at the center.
                </p>
            </div>

            <div>
                <!-- Reset Button -->
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <button id="mesw" style="background-color: #6266e0; color: white;margin-right: 8px" type="reset"
                        class="btn btn-primary">Reset</button>
                        <button id="mesx"  style="background-color: #28a745; color: white;" onclick="printForm()"
                        class="btn btn-print">Print Form</button>
                </div>


                <div>
                    <!-- Submit Button (becomes red after submission) -->
                    <button id="submitBtn" type="submit" class="btn btn-primary" onclick="startDelay()" style="font-size: 29px;">
                        Submit
                    </button>
                </div>

            </div>
                <script>
                    function changeButtonColor() {
                        const submitBtn = document.getElementById("submitBtn");
                        submitBtn.style.backgroundColor = "red";
                        submitBtn.innerText = "Submitted";
                        // Optional: change button text
                    }
                    function startDelay() {
                setTimeout(changeButtonColor, 3000); 
            }
                </script>
        </form>
    </div>

    <div id="footer"></div>

    <script>
        fetch('ft.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
    <script>
        function toggleDiseaseField() {
            const diseaseField = document.getElementById("diseaseField");
            const yesOption = document.getElementById("yes").checked;

            if (yesOption) {
                diseaseField.style.display = "block";
            } else {
                diseaseField.style.display = "none";
                document.getElementById("diseaseName").value = ''; // Clear input if "No" is selected
            }
        }

        function updateDateTime() {
            const now = new Date();
            document.getElementById('Sdate').innerText = now.toLocaleString();
        }

        function handleSubmit(event) {
            event.preventDefault();
            updateDateTime();
            const scriptURL = 'https://script.google.com/macros/s/AKfycbwGrKwUre2DvEJ_qTqLz7mJV5DM_rKoD8iRQBVLP7-_jaJKzL53usOU9ri6HAibNaM2/exec'; // Updated URL
            const form = document.forms['google-sheet'];

            // Include the current date and time in the form data
            const formData = new FormData(form);
            formData.append('Sdate', document.getElementById('Sdate').innerText);

            fetch(scriptURL, { method: 'POST', body: formData })
                .then(response => {
                    alert("Thanks for contacting us! We will contact you soon...");
                })
                .catch(error => console.error('Error!', error.message));
        }

        // Update the date and time every second
        setInterval(updateDateTime, 1000);

        // Initialize the date and time when the page loads
        window.onload = updateDateTime;
    </script>

    <script>
        function printForm() {
            window.print();
        }
    </script>
</body>

</html>

</body>

</html>
